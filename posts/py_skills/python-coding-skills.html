<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Python Coding Skills - Yufan's Presentation at Wisers</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext" rel="stylesheet">
    <!-- CSS WebSlides -->
    <link rel="stylesheet" type='text/css' media='all' href="static/css/webslides.css">
    <!-- Optional - CSS SVG Icons (Font Awesome) -->
    <link rel="stylesheet" type='text/css' media='all' href="static/css/svg-icons.css">
    <!-- SOCIAL CARDS (ADD YOUR INFO) -->
    <!-- EDIT -->
    <meta name="twitter:image" content="static/images/share-webslides.jpg">
    <!-- EDIT -->
    <!-- FAVICONS -->
    <link rel="shortcut icon" sizes="16x16" href="static/images/favicons/favicon.png">
    <link rel="shortcut icon" sizes="32x32" href="static/images/favicons/favicon-32.png">
    <link rel="apple-touch-icon icon" sizes="76x76" href="static/images/favicons/favicon-76.png">
    <link rel="apple-touch-icon icon" sizes="120x120" href="static/images/favicons/favicon-120.png">
    <link rel="apple-touch-icon icon" sizes="152x152" href="static/images/favicons/favicon-152.png">
    <link rel="apple-touch-icon icon" sizes="180x180" href="static/images/favicons/favicon-180.png">
    <link rel="apple-touch-icon icon" sizes="192x192" href="static/images/favicons/favicon-192.png">
    <!-- Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#333333">
  </head>
  <body>
    <header role="banner">
      <nav role="navigation">
        <p class="logo"><a href="index.html" title="alphafan">alphafan</a></p>
        <ul>
          <li class="github">
            <a rel="external" href="https://github.com/alphafan" title="Github">
              <svg class="fa-github">
                <use xlink:href="#fa-github"></use>
              </svg>
              <em>alphafan</em>
            </a>
          </li>
          <li class="wordpress">
            <a rel="external" href="https://twitter.com/webslides" title="Blog">
              <svg class="fa-wordpress">
                <use xlink:href="#fa-wordpress"></use>
              </svg>
              <em>alphafan</em>
            </a>
          </li>
          <!--  <li class="dribbble"><a rel="external" href="http://dribbble.com/webslides" title="Dribbble"><svg class="fa-dribbble"><use xlink:href="#fa-dribbble"></use></svg> <em>webslides</em></a></li> -->
        </ul>
      </nav>
    </header>
    <main role="main">
      <article id="webslides" class="vertical">
        <section>
          <span class="background" style="background-image:url('https://webslides.tv/static/images/nature.jpg')"></span>
          <!--.wrap = container (width: 90%) -->
          <div class="wrap aligncenter">
            <h1><strong>Python Coding Skills</strong></h1>
            <br><br>
            <p class="text-intro"><b>Friday Informal Sharing</b><br>
              Yufan Zheng : <a href="mailto:zhengyufan@wisers.com" target="_top">zhengyufan@wisers.com</a>
            </p>
            <br>
            <p>
              <a href="#slide=2" class="button zoomIn" title="Get Started">
                Get Started
              </a>
            </p>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="slide-top">
          <div class="wrap size-50">
            <h3>Table of Contents</h3>
            <hr>
            <div class="toc">
              <ol>
                <li>
                  <a href="#slide=7" title="Go to Python Code Style"><span class="chapter">Code Style</span>
                  <span class="toc-page">07</span></a>
                </li>
                <li>
                  <a href="#slide=16" title="Go to Pythonic Code"><span class="chapter">Pythonic Code</span>
                  <span class="toc-page">16</span></a>
                  <ol>
                    <li><a href="#slide=17" title="Go to Characteristic of Graphs"><span class="chapter">Concise, Idiomatic and Efficient Python</span>
                      <span class="toc-page">17</span></a>
                    </li>
                    <li><a href="#slide=27" title="Go to Decorator"><span class="chapter">Decorator</span>
                      <span class="toc-page">27</span></a>
                    </li>
                    <li><a href="#slide=38" title="Go to Meta Programming"><span class="chapter">Meta Programming</span>
                      <span class="toc-page">38</span></a>
                    </li>
                  </ol>
                </li>
                <li>
                  <a href="#slide=44" title="Go to Python Code Style"><span class="chapter">OO Design</span>
                  <span class="toc-page">44</span></a>
                </li>
                <li>
                  <a href="#slide=60" title="Go to Python Code Style"><span class="chapter">Inheritance in Python</span>
                  <span class="toc-page">60</span></a>
                </li>
                <li>
                  <a href="#slide=67" title="Go to Python Code Style"><span class="chapter">Performance Tuning</span>
                  <span class="toc-page">67</span></a>
                  <ol>
                    <li><a href="#slide=68" title="Go to Characteristic of Graphs"><span class="chapter">Tuning Skills</span>
                      <span class="toc-page">68</span></a>
                    </li>
                    <li><a href="#slide=73" title="Go to Node Centrality"><span class="chapter">Profiling Tool</span>
                      <span class="toc-page">73</span></a>
                    </li>
                  </ol>
                </li>
              </ol>
            </div>
            <!-- end .toc -->
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="bg-black aligncenter slide current" id="section-2" style="">
          <!-- Overlay/Opacity: [class*="bg-"] > .background.dark or .light -->
          <span class="background" style="background-image:url('https://source.unsplash.com/OkAAx4mI2Hc/1600x800')"></span>
          <!-- background with a frame -->
          <span class="background frame"></span>
          <!--.wrap = container (width: 90%) -->
          <div class="wrap fadeInUp">
            <h1>
              Everyone
              <svg class="fa-heart-o" viewBox="0 0 512 512">
                <path d="m475 170c0-15-2-29-6-41-4-11-9-21-15-28-7-7-15-12-24-17-9-4-18-7-27-9-8-1-18-2-28-2-9 0-20 3-32 7-11 5-22 11-31 19-10 7-18 14-25 20-7 7-12 13-17 18-3 4-8 6-14 6-6 0-11-2-14-6-5-5-10-11-17-18-7-6-15-13-25-20-9-8-20-14-31-19-12-4-23-7-32-7-10 0-20 1-28 2-9 2-18 5-27 9-9 5-17 10-24 17-6 7-11 17-15 28-4 12-6 26-6 41 0 32 17 66 53 102l166 160 166-160c36-36 53-70 53-102z m37 0c0 42-22 85-65 129l-178 171c-4 4-8 5-13 5-5 0-9-1-13-5l-178-172c-2-1-4-4-8-7-3-4-8-10-16-19-7-9-13-18-19-28-6-9-11-21-15-34-5-14-7-27-7-40 0-42 12-74 36-98 24-24 58-35 101-35 11 0 23 2 36 6 12 4 23 9 34 16 11 7 20 14 27 20 8 6 15 12 22 19 7-7 14-13 22-19 7-6 16-13 27-20 11-7 22-12 34-16 13-4 25-6 36-6 43 0 77 11 101 35 24 24 36 56 36 98z"></path>
              </svg>
              Python
            </h1>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="bg-apple aligncenter">
          <!--.wrap = container (width: 90%) -->
          <div class="wrap">
            <h2 class="text-data">3-4 Hours</h2>
            <h3>Then, We Can Start Python Programming</h3>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="bg-apple aligncenter slide current" id="section-8" style="">
          <span class="background-right-bottom" style="background-image:url('https://webslides.tv/static/images/tim-cook.png')"></span>
          <div class="wrap">
            <h2>But, It Requires Much More Time <br> to Become <b>Really Good</b> At It.</h2>
            <br>
            <p class="fadeInUp"><a href="/demos/keynote.html">4 Hours Is Far Less Than Enough.</a></p>
          </div>
          <!-- .end .wrap -->
        </section>
        <section id="section-4" class="slide current" style="">
          <div class="wrap size-50">
            <h2>
              <svg class="fa-heart-o" viewBox="0 0 512 512">
                <path d="m475 170c0-15-2-29-6-41-4-11-9-21-15-28-7-7-15-12-24-17-9-4-18-7-27-9-8-1-18-2-28-2-9 0-20 3-32 7-11 5-22 11-31 19-10 7-18 14-25 20-7 7-12 13-17 18-3 4-8 6-14 6-6 0-11-2-14-6-5-5-10-11-17-18-7-6-15-13-25-20-9-8-20-14-31-19-12-4-23-7-32-7-10 0-20 1-28 2-9 2-18 5-27 9-9 5-17 10-24 17-6 7-11 17-15 28-4 12-6 26-6 41 0 32 17 66 53 102l166 160 166-160c36-36 53-70 53-102z m37 0c0 42-22 85-65 129l-178 171c-4 4-8 5-13 5-5 0-9-1-13-5l-178-172c-2-1-4-4-8-7-3-4-8-10-16-19-7-9-13-18-19-28-6-9-11-21-15-34-5-14-7-27-7-40 0-42 12-74 36-98 24-24 58-35 101-35 11 0 23 2 36 6 12 4 23 9 34 16 11 7 20 14 27 20 8 6 15 12 22 19 7-7 14-13 22-19 7-6 16-13 27-20 11-7 22-12 34-16 13-4 25-6 36-6 43 0 77 11 101 35 24 24 36 56 36 98z"></path>
              </svg>
              Python Code
            </h2>
            <br>
            <p class="text-intro">Readability is At The Heart of Python Design.</p>
            <hr>
            <ul class="description">
              <li><span class="text-label">Simple</span> is Better Than Complex...</li>
              <li><span class="text-label">Short</span> is Better Than Long...</li>
              <li><span class="text-label">Explict</span> is Better Than Implicit...</li>
              <li><span class="text-label">Beautiful</span> is Better Than Ugly...</li>
              <li><span class="text-label">Readability</span> Counts...</li>
            </ul>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="frame bg-primary aligncenter">
          <div class="wrap">
            <h2 class="text-landing">Code Style</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Naming Conventions</h3>
            <br>
            <span>Variables, functions, methods, packages, modules :</span><br><br>
            <pre><code class="python">lower_case_with_underscores</code></pre><br>
            <span>Classes and Exceptions :</span><br><br>
            <pre><code class="python">CapWords</code></pre><br>
            <span>Private methods :</span><br><br>
            <pre><code class="python">_single_leading_underscore(self, ...)</code></pre><br>
            <span>Constants :</span><br><br>
            <pre><code class="python">ALL_CAPS_WITH_UNDERSCORES</code></pre><br>
            <span>Avoid one-letter variables :</span><br><br>
            <pre><code class="python">l, O, I</code></pre><br>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Avoid Redundant Labeling</h3>
            <br>
            <span><b>Yes</b></span><br><br>
            <pre><code class="python">import audio

core = audio.Core()
controller = audio.Controller()</code></pre><br>
            <span><b>No</b></span><br><br>
            <pre><code class="python">import audio

core = audio.AudioCore()
controller = audio.AudioController()</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Prefer "Reverse Notation"</h3>
            <br>
            <span><b>Yes</b></span><br><br>
            <pre><code class="python">elements = ...
elements_active = ...
elements_defunct = ...</code></pre><br>
            <span><b>No</b></span><br><br>
            <pre><code class="python">elements = ...
active_elements = ...
defunct_elements ...</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Line Length : Don't Stress Over 80-100 Characters</h3>
            <br>
            <pre><code class="python"># Use parentheses for line continuations.
wiki = (
    "The Colt Python is a .357 Magnum caliber revolver formerly "
    "manufactured by Colt's Manufacturing Company of Hartford, "
    "Connecticut. It is sometimes referred to as a Combat Magnum "
    "same year as Smith & Wesson's M29 .44 Magnum."
)</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="aligncenter">
          <div class="wrap size-60">
            <h2>30 - 30 Principle</h2>
            <hr>
            <b><h4>A function should never exceed <span style="color:red">30</span> lines.</h4></b>
            <br>
            <b><h4>A class can contain at most <span style="color:red">30</span> methods.</h4></b>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Google Comment Style - Function</h3>
            <br><br>
            <pre><code class="python">def func(arg1, arg2, arg3=None):
    """ Intro line

    Rant on here. Make sure it's at least 3-line long (j/k)

    Args:
        arg1: An argument
        arg2: Another argument
        arg3: optional argument

    Returns:
        Describe returned value(s) here

    Raises:
        Error
    """
    pass</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Google Comment Style - Class</h3>
            <br><br>
            <pre><code class="python">class SampleClass(object):
    """ Summary of class here.

    Longer class information....
    Longer class information....

    Attributes:
        likes_spam: A boolean indicating if we like SPAM or not.
        eggs: An integer count of the eggs we have laid.
    """

    def __init__(self, likes_spam=False):
        """Inits SampleClass with blah."""
        self.likes_spam = likes_spam
        self.eggs = 0

    def public_method(self):
        """Performs operation blah."""</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="aligncenter">
          <div class="wrap">
            <h2><strong><a href="https://www.python.org/dev/peps/pep-0008/">PEP 8 </a>Python Style Guide</strong></h2>
            <br>
            <p class="text-intro">A style guide is to improve the <b>readability</b> of code and <br>make it <b>consistent</b> across the wide spectrum of Python code</p>
            <br>
            <ul class="flexblock border">
              <li>
                <!--div required = padding li or li>a-->
                <div>
                  <h3><a>Code Layout</a></h3>
                  <ol>
                    <li># Indentation</li>
                    <li># Maximum Line Length</li>
                    <li># Should a Line Break Before or After a Binary Operator?</li>
                    <li># Blank Lines</li>
                    <li># Imports</li>
                    <li># ...</li>
                  </ol>
                </div>
              </li>
              <li>
                <!--div required = padding li or li>a-->
                <div>
                  <h3><a>Naming Conventions</a></h3>
                  <ol>
                    <li># Names to Avoid</li>
                    <li># Class Names</li>
                    <li># Global Variable Names</li>
                    <li># Function and Parameter Names</li>
                    <li># Constants</li>
                    <li># ...</li>
                  </ol>
                </div>
              </li>
              <li>
                <!--div required = padding li or li>a-->
                <div>
                  <h3><a>Comments</a></h3>
                  <ol>
                    <li># Block Comments. </li>
                    <li># Inline Comments. </li>
                    <li># Documentation Strings</li>
                    <li># ...</li>
                  </ol>
                </div>
              </li>
              <li>
                <!--div required = padding li or li>a-->
                <div>
                  <h3><a>Others</a></h3>
                  <ol>
                    <li># When to Use Trailing Commas.</li>
                    <li># Whitespace in Expressions and Statements</li>
                    <li># String Quotes</li>
                    <li># ...</li>
                  </ol>
                </div>
              </li>
            </ul>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="frame bg-primary aligncenter slide current" id="section-66" style="">
          <div class="wrap">
            <h2 class="text-landing">Pythonic Code</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap">
            <center>
              <h2>What is Pythonic Code ?</h2>
              <br>
              <p class="text-intro">The Way We Explore The <b>Feature of Python</b> Language <br>to produce <b>Clear, Concise and Maintainable</b> Code</p>
            </center>
          </div>
        </section>
        <section class="slide-top">
          <center>
            <h2>Pythonic Code ? <b>Yes !</b></h2>
            <br>
            <p class="text-intro">Transforming Code into <b>Beautiful, Idiomatic and Concise</b> Python</p>
          </center>
          <br>
          <div class="wrap">
            <div class="grid vertical-align">
              <div class="column">
                <div class="card40"><img src="static/images/good_bad.png" alt=""></div>
              </div>
              <div class="column">
                <h4><b>Call a function until a sentinel value</b></h4>
                <br>
                <pre><code class="python">lines = []
while True:
    line = f.readline()
    if line == '':
        break
    lines.append(line)</code></pre><br>
                <span>Better Code :</span><br>
                <pre><code class="python">lines = [line for line in iter(f.readline, '')]</code></pre>
                <br>
                <span>iter takes two arguments. The first you call over and over again and the second is a sentinel value.</span>
              </div>
            </div>
          </div>
        </section>
        <section class="bg-gradient-v">
          <span class="background dark" style="background-image:url('https://source.unsplash.com/nxfuA21kNHY/1440x1440')"></span>
          <div class="wrap size-60">
            <p class="text-context">Pythonic Code</p>
            <h2>Making The Program More Efficient</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Dictionary For Performance</h3>
            <p>What are the difference between two algorithms ?</p>
            <pre><code class="python">data_list = [...]                       # len = 500, 000 
interesting_points = [...]              # len =      100

for i in interesting_ids:
    point = find_point_by_id_in_list(data_list, i)
    interesting_points.append(point)</code></pre><br>
            <pre><code class="python">data_lookup = {...}                     # len = 500, 000 
interesting_points = [...]              # len =      100

for i in interesting_ids:
    point = data_lookup(data_list, i)
    interesting_points.append(point)</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap">
            <h3>High-Performance Container Datatypes</h3>
            <table border="1" class="docutils">
              <colgroup>
                <col width="18%">
                <col width="59%">
                <col width="23%">
              </colgroup>
              <tbody valign="top">
                <tr class="row-odd">
                  <td><a class="reference internal" href="#collections.namedtuple" title="collections.namedtuple"><code class="xref py py-func docutils literal notranslate"><span class="pre">namedtuple()</span></code></a></td>
                  <td>factory function for creating tuple subclasses with named fields</td>
                  <td>
                    <div class="first last versionadded">
                      <p><span class="versionmodified">New in version 2.6.</span></p>
                    </div>
                  </td>
                </tr>
                <tr class="row-even">
                  <td><a class="reference internal" href="#collections.deque" title="collections.deque"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a></td>
                  <td>list-like container with fast appends and pops on either end</td>
                  <td>
                    <div class="first last versionadded">
                      <p><span class="versionmodified">New in version 2.4.</span></p>
                    </div>
                  </td>
                </tr>
                <tr class="row-odd">
                  <td><a class="reference internal" href="#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a></td>
                  <td>dict subclass for counting hashable objects</td>
                  <td>
                    <div class="first last versionadded">
                      <p><span class="versionmodified">New in version 2.7.</span></p>
                    </div>
                  </td>
                </tr>
                <tr class="row-even">
                  <td><a class="reference internal" href="#collections.OrderedDict" title="collections.OrderedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a></td>
                  <td>dict subclass that remembers the order entries were added</td>
                  <td>
                    <div class="first last versionadded">
                      <p><span class="versionmodified">New in version 2.7.</span></p>
                    </div>
                  </td>
                </tr>
                <tr class="row-odd">
                  <td><a class="reference internal" href="#collections.defaultdict" title="collections.defaultdict"><code class="xref py py-class docutils literal notranslate"><span class="pre">defaultdict</span></code></a></td>
                  <td>dict subclass that calls a factory function to supply missing values</td>
                  <td>
                    <div class="first last versionadded">
                      <p><span class="versionmodified">New in version 2.5.</span></p>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Memory Efficiency with Slots</h3>
            <br>
            <p>Custom types store their data in individualized, dynamic dictionaries 
              via self.__dict__. Using __slots__ to limit available attribute names 
              and move the name/key storage outside the instance to a type level 
              can significantly improve memory usage.
            </p>
            <pre><code class="python">class ImmutableThing:
            
    __slots__ = ['a', 'b', 'c']

    def __init__(self, a, b, c):
         self.a = a 
         self.b = b
         self.c = c</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="bg-gradient-v">
          <span class="background dark" style="background-image:url('https://source.unsplash.com/nxfuA21kNHY/1440x1440')"></span>
          <div class="wrap size-60">
            <p class="text-context">Pythonic Code</p>
            <h2>Efficient Build-In Tools</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Bisect for Quick Search</h3>
            <p>Bisect provides support for maintaining a list in sorted order without having to sort the list after each insertion. </p>
            <pre><code class="python">import bisect
import random

# Reset the seed
random.seed(1)

# Use bisect_left and insort_left.
l = []
for i in range(1, 5):
    r = random.randint(1, 100)
    position = bisect.bisect_left(l, r)
    bisect.insort_left(l, r)
    print '%2d %2d' % (r, position), l</code></pre><br>
             <pre><code class="python">$ python bisect_example.py

14  0 [14]
85  1 [14, 85]
77  1 [14, 77, 85]
26  1 [14, 26, 77, 85]
50  2 [14, 26, 50, 77, 85]</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Pickle For Fast Object Serialization</h3><br>
            <pre><code class="python">import pickle

a = A_VERY_LARGE_OBJECT

with open('filename.pickle', 'wb') as handle:
    pickle.dump(a, handle, protocol=pickle.HIGHEST_PROTOCOL)

with open('filename.pickle', 'rb') as handle:
    b = pickle.load(handle)

print(a == b)</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap size-60">
            <h3>Array Serialization</h3><br>
            <pre><code class="python">from array import array
from random import random
floats = array('d', (random() for i in range(10**7))) 

fp = open('floats.bin', 'wb')
floats.tofile(fp)
fp.close()

floats2 = array('d') 
fp = open('floats.bin', 'rb') 
floats2.fromfile(fp, 10**7) 
fp.close()</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="bg-gradient-v">
          <span class="background dark" style="background-image:url('https://source.unsplash.com/nxfuA21kNHY/1440x1440')"></span>
          <div class="wrap size-60">
            <p class="text-context">Pythonic Code</p>
            <h2>Taking The Advantages of Decorators</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap">
            <center>
              <h2>What is Decorator ?</h2>
            </center>
          </div>
        </section>
        <section>
            <div class="wrap size-60">
              <center><h3>You Might Have Used Decorators <br>
              Even Without Knowing It</h3><br></center><br>
                <pre><code class="python">from flask import Flask
app = Flask(__name__)

<b class="code-comment">@app.route("/")</b>
def hello():
    return "Hello World!"</code></pre><br>
               <pre><code class="python">from functools import lru_cache

<b class="code-comment">@lru_cache(maxsize=None)</b>
def fib(n):
    if n < 2:
        return n
    return fib(n-1) + fib(n-2)</code></pre>
            </div>
        </section>
        <section>
            <div class="wrap size-60">
                <center>
                <h2>Decorator is Used To Modify The Inner Function</h2>
                <p>The Following Three Codes Have The Same Effect.</p></center><br>
                <pre><code class="python"># State, before defining f, that a_decorator will be applied to it.
@a_decorator
def f(...):
    ...</code></pre><br>
<pre><code class="python">def f(...):
    ...

# After defining f, apply a_decorator to it.
f = a_decorator(f)</code></pre><br>
<pre><code class="python">def a_decorator():
    ...
    def f(...):
        ...
    ...
    return f</code></pre>
            </div>
        </section>
        <section>
            <div class="wrap size-60">
                <center>
                <h2>Print Decorated Function's Input Output</h2></center><br>
                <pre><code class="python">def deco(func):
    def inner(*args):
        print('Input :', args)
        output = func(*args)
        print('Output:', output)
        return output
    return inner

@deco
def add(a, b):
    return a + b</code></pre><br>
<pre><code class="python">>>> add(1, 2)
Input : (1, 2)
Output: 3</code></pre>
            </div>
        </section>
        <section>
          <div class="wrap size-60">
            <center><h4><b>Example 1 - Use Decorator to Auto Register <br>Input, Output and Execution Time</b></h4><br></center>
            <pre><code class="python">import time

def timer(func):
   
    def clock(*args):
        t0 = time.perf_counter()
        result = func(*args)
        elapsed = time.perf_counter() - t0
        name = func.__name__
        arg_str = ', '.join(repr(arg) for arg in args)
        print('[%0.8fs] %s(%s) -> %r' % (elapsed, name, arg_str, result)) 
        return result
        
    return clock</code></pre>
          </div>
        </section>
        <section>
            <div class="wrap size-60">
                <center><h4><b>Example 1 - Use Decorator to Auto Register <br>Input, Output and Execution Time</b></h4><br></center>
                <pre><code class="python">import time
from timer import timer

<b class="code-comment">@timer</b>
def factorial(n):
    return 1 if n < 2 else n*factorial(n-1)

if __name__=='__main__':
    factorial(4)</code></pre><br>
              <pre><code class="python">$ python3 clockdeco_demo.py
              
[0.00000191s] factorial(1) -> 1
[0.00004911s] factorial(2) -> 2
[0.00008488s] factorial(3) -> 6
[0.00013208s] factorial(4) -> 24</code></pre>
            </div>
        </section>
        <section>
            <div class="wrap size-60">
            <center><h4><b>Example 2 - Use Decorator to Make Class Singleton</b></h4><br></center>
            <pre><code class="python">class Singleton:

    _singletons = dict()

    def __init__(self, decorated):
        self._decorated = decorated

    def getInstance(self):
        key = self._decorated.__name__
        try:
            return Singleton._singletons[key]
        except KeyError:
            Singleton._singletons[key] = self._decorated()
            return Singleton._singletons[key]

    def __call__(self):
        raise Exception(
            'Singletons must be accessed through the `getInstance` method.')</code></pre></div>
        </section>
        <section>
            <div class="wrap size-60">
                <center><h4><b>Example 2 - Use Decorator to Make Class Singleton</b></h4><br></center>
                <pre><code class="python">@Singleton
class Foo:
    def __init__(self):
        print('Foo created')

    def bar(self, obj):
        print(obj)

foo = Foo()                  # Wrong, raises Exception

foo = Foo.getInstance()
goo = Foo.getInstance()

print(goo is foo)            # True

foo.bar('Hello, world! I m a singleton.')</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap size-60">
            <h2>Python Meta Class Functions</h2>
            <table>
              <tr><th>Name</th><th>Description</th></tr>
              <tr><td>__new__</td><td>The real function to create an object.</td></tr>
              <tr><td>__init__</td><td>Initialize newly created object.</td></tr>
              <tr><td>__call__</td><td>Make the class callable like a function.</td></tr>
            </table>
          </div>
        </section>
        <section>
          <div class="wrap size-60">
            <h2>Python Meta Class Functions</h2>
            <pre><code class="python">class Foo:
            
    def __new__(cls, *args, **kwargs):
        print('Calling __new__')
        return super(Foo, cls).__new__(cls)

    def __init__(self, a):
        print('Calling __init__')
        self.a = a

    def __call__(self, *args, **kwargs):
        print('Calling __call__')
        print(self.a)</code></pre><br>
            <pre><code>>>> f = Foo(1)
Calling __new__
Calling __init__
>>> f()
Calling __call__
1</code></pre>
          </div>
        </section>
        <section class="bg-gradient-v">
          <span class="background dark" style="background-image:url('https://source.unsplash.com/nxfuA21kNHY/1440x1440')"></span>
          <div class="wrap size-60">
            <p class="text-context">Pythonic Code</p>
            <h2>Meta Programming</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <center><h4><b>Example I : __len__  &  __getitem__ (1)</b></h4></center><br>
            <pre><code class="python">import collections
            
Card = collections.namedtuple('Card', ['rank', 'suit'])
 
class FrenchDeck:

    ranks = [str(n) for n in range(2, 11)] + list('JQKA')
    suits = 'spades diamonds clubs hearts'.split()
    
    def __init__(self):
        self._cards = [Card(rank, suit) for suit in self.suits
                                        for rank in self.ranks]
        
    def __len__(self):
        return len(self._cards)
        
    def __getitem__(self, position):
        return self._cards[position]</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <center><h4><b>Example I : __len__  &  __getitem__ (2)</b></h4></center><br>
            <pre><code class="python"> >>> deck = FrenchDeck()
 >>> len(deck)
 52</code></pre><br>
             <pre><code class="python"> >>> deck[0]
 Card(rank='2', suit='spades')
 >>> deck[-1]
 Card(rank='A', suit='hearts')</code></pre><br>
             <pre><code class="python"> >>> from random import choice
 >>> choice(deck)
 Card(rank='3', suit='hearts')
 >>> choice(deck)
 Card(rank='K', suit='spades')
 >>> choice(deck)
 Card(rank='2', suit='clubs')</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <center><h4><b>Example I : __len__  &  __getitem__ (3)</b></h4></center><br>
            <pre><code class="python"> >>> deck[:3]
 [Card(rank='2', suit='spades'), Card(rank='3', suit='spades'),
 Card(rank='4', suit='spades')]
 >>> deck[12::13]
 [Card(rank='A', suit='spades'), Card(rank='A', suit='diamonds'),
 Card(rank='A', suit='clubs'), Card(rank='A', suit='hearts')]</code></pre><br>
             <pre><code class="python"> >>> for card in deck: 
 ...   print(card)
 Card(rank='2', suit='spades')
 Card(rank='3', suit='spades')
 Card(rank='4', suit='spades')
 ...</code></pre><br>
             <pre><code class="python"> >>> for card in reversed(deck): 
 ...   print(card)
 Card(rank='A', suit='hearts')
 Card(rank='K', suit='hearts')
 Card(rank='Q', suit='hearts')
 ...</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <center><h4><b>Example II : __iter__</b></h4></center><br>
            <pre><code class="python">class Article:
    def __init__(self, sentences):
         self.sentences = sentences
    
    def __iter__(self):
         return (sentence for sentence in self.sentences)
         
class Sentence:
    def __init__(self, words):
         self.words = words
    
    def __iter__(self):
         return (word for word in self.words)
         
...

>>> for sentence in article:
>>> ... for word in sentence:
>>> ....... print(word)</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap size-60">
            <center><h4><b>Example III : __repr__</b></h4></center><br>
            <pre><code class="python">from array import array
import math

class Vector2d:
    def __init__(self, x, y):
        self.x = float(x)
        self.y = float(y)

    def __iter__(self):
        return (i for i in (self.x, self.y))

    def __repr__(self):
        class_name = type(self).__name__
        return '{}({!r}, {!r})'.format(class_name, *self)

...
 
>>> v = Vector2d(1, 2)
>>> print(v) 
Vector2d(1.0, 2.0)</code></pre>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="frame bg-primary aligncenter">
          <div class="wrap">
            <h2 class="text-landing">Object Oriented Design</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap">
              <h3>Why is This Code <b style="color:red">Bad Designed ?</b></h3><br>
              <pre><code>class UserSettings:

    def __init__(self, user):
        self.user = user

    def change_setting(self, setting):
        if self.verify_credential():
            # do change setting
            pass

    def verify_credential(self):
        # do verify credential
        pass</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
            <center>
            <h3><a>Single Responsibility Principle</a></h3><br><br>
            <h4><b>There should never be more than one reason for a class to change</b></h4>
            </center>
          </div>
        </section>
        <section>
          <div class="wrap">
              <h3>Single Responsibility Principle - <b style="color:green">Good Code</b></h3><br>
              <pre><code>class UserSettings:

    def __init__(self, user):
        self.user = user
        self.auth = UserAuth(user)

    def change_setting(self, setting):
        if self.auth.verify_credential():
            # do change setting
            pass

class UserAuth:

    def __init__(self, user):
        self.user = user

    def verify_credential(self):
        # do verify credential
        pass</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
              <h3>Is This A <b style="color:red">Good Code ?</b></h3><br>
              <pre><code>class Rectangle:

    def __init__(self, width, height):
        self.width = width
        self.height = height

class AreaCalculator:

    def compute_area(self, shapes):
        """ Compute the sum area of a shape collection """
        area = 0.0
        for shape in shapes:
            area += shape.width * shape.height
        return area</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
            <center><h2><b>Possible Extension 1</b><br><br>
            Collection needs to contain circle ...</h2></center>
          </div>
        </section>
        <section>
          <div class="wrap">
              <h3>A Quick Solution Based On Previous Design</h3><br>
              <pre><code>class Rectangle:
    ...
        
class Circle:
   
    def __init__(self, radius):
        self.radius = radius

class AreaCalculator:

    def compute_area(self, shapes):
        """ Compute the sum area of a shape collection """
        area = 0.0
        for shape in shapes:
            # Check type here
            if isinstance(shape, Rectangle):  
                area += shape.width * shape.height
            else:
                area += 3.14 * shape.radius * shape.radius
        return area</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
            <center><h2><b>Possible Extension 2</b><br><br>
            What if the collection needs to contain triangle, diamond, octagon etc ... ?</h2></center>
          </div>
        </section>
        <section>
          <div class="wrap">
            <center>
            <h3><a>Open / Closed Principle</a></h3><br><br>
            <h4><b>Software entities should be open for extension, but closed for modification</b></h4>
            </center>
          </div>
        </section>
        <section>
          <div class="wrap">
              <h3>Open / Closed Principle - <b style="color:green">Good Code</b></h3><br>
              <pre><code>from abc import ABC, abstractmethod

class Shape(ABC):
    @abstractmethod
    def area(self):
        pass

class Rectangle(Shape):
    def __init__(self, width, height):
        self.width = width
        self.height = height
    
    def area(self):
        return self.width * self.height

class Circle(Shape):
    def __init__(self, radius):
        self.radius = radius
        
    def area(self):
        return self.radius * self.radius * 3.14

class AreaCalculator:

    def compute_area(self, shapes):
        """ Compute the sum area of a shape collection """
        area = 0.0
        for shape in shapes:
            area += shape.area()
        return area</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
              <h3>Is This A <b style="color:red">Good Design ?</b></h3><br>
              <pre><code>from abc import ABC, abstractmethod

class IEmployee(ABC):
    @abstractmethod
    def work(self):
        pass
    @abstractmethod
    def eat(self):
        pass

class Researcher(IEmployee):
    def work(self):
        pass
    def eat(self):
        pass

class Programmer(IEmployee):
    def work(self):
        pass
    def eat(self):
        pass</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
            <center>
            <h3><a>Interface Segregation Principle</a></h3><br><br>
            <h4><b>Clients should not be forced to depend upon interfaces that they do not use.</b></h4>
            </center>
          </div>
        </section>
        <section>
          <div class="wrap">
              <h3>Interface Segregation Principle - <b style="color:green">Good Code</b></h3><br>
              <pre><code>from abc import ABC, abstractmethod

class Workable(ABC):
    @abstractmethod
    def work(self):
        pass

class Feedable(ABC):
    @abstractmethod
    def eat(self):
        pass

class Researcher(Workable, Feedable):
    def work(self):
        pass
    def eat(self):
        pass

class Programmer(Workable, Feedable):
    def work(self):
        pass
    def eat(self):
        pass</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
           <center>
            <h3>Interface Segregation Principle - <b style="color:green">A Real Example</b></h3><br>
            <img src="static/images/i.png" alt="">
           </center>
          </div>
        </section>
        <section>
          <div class="wrap">
            <center>
            <h3>Composition Over Inheritance - <b style="color:red">Bad Implementation</b></h3><br>
            <div class="size-80"><img src="static/images/p.png" alt=""></div></center>
          </div>
        </section>
        <section>
          <div class="wrap">
            <h3>OO Design Principles</h3>
            <ul class="flexblock">
              <li>
                <h2>
                  <svg class="fa-bar-chart" viewBox="0 0 512 512">
      <path d="m146 256l0 146-73 0 0-146z m110-146l0 292-73 0 0-292z m293 329l0 36-586 0 0-438 37 0 0 402z m-183-256l0 219-73 0 0-219z m109-110l0 329-73 0 0-329z"></path>
    </svg>
                  SRP
                </h2>
                <p style="margin:10px"></p>
                <b>Single Responsibility Principle</b>
                <p class="description">There should never be more than one reason for a class to change</p>
              </li>
              <li>
                <h2>
                  <svg class="fa-balance-scale" viewBox="0 0 512 512">
      <path d="m421 128l-110 201 219 0z m-366 0l-110 201 220 0z m234-55c-2 8-7 15-13 21-6 6-12 10-20 13l0 368 174 0c2 0 5 1 6 3 2 2 3 4 3 7l0 18c0 3-1 5-3 6-1 2-4 3-6 3l-384 0c-3 0-5-1-7-3-2-1-2-3-2-6l0-18c0-3 0-5 2-7 2-2 4-3 7-3l173 0 0-368c-7-3-14-7-20-13-6-6-10-13-13-21l-140 0c-3 0-5-1-7-2-2-2-2-4-2-7l0-18c0-3 0-5 2-7 2-2 4-2 7-2l140 0c4-11 11-20 20-27 9-7 20-10 32-10 12 0 22 3 31 10 10 7 16 16 20 27l141 0c2 0 5 0 6 2 2 2 3 4 3 7l0 18c0 3-1 5-3 7-1 1-4 2-6 2z m-51 5c6 0 11-3 16-7 4-4 7-10 7-16 0-6-3-12-7-16-5-5-10-7-16-7-7 0-12 2-16 7-5 4-7 10-7 16 0 6 2 12 7 16 4 4 9 7 16 7z m311 251c0 14-5 27-14 38-9 11-20 19-33 26-14 6-28 11-42 14-14 3-27 4-39 4-13 0-26-1-40-4-14-3-28-8-42-14-13-7-24-15-33-26-9-11-13-24-13-38 0-2 3-10 10-23 6-13 15-30 26-50 11-20 21-38 30-56 10-17 20-35 30-52 9-18 15-28 16-29 3-6 8-9 16-9 7 0 12 3 16 9 0 1 6 11 16 29 9 17 19 35 29 52 9 18 19 36 30 56 11 20 20 37 27 50 6 13 10 21 10 23z m-366 0c0 14-5 27-13 38-9 11-20 19-34 26-14 6-27 11-41 14-14 3-28 4-40 4-13 0-26-1-40-4-14-3-28-8-41-14-14-7-25-15-34-26-9-11-13-24-13-38 0-2 3-10 10-23 7-13 15-30 26-50 11-20 21-38 31-56 9-17 19-35 29-52 10-18 15-28 16-29 3-6 9-9 16-9 7 0 12 3 16 9 1 1 6 11 16 29 10 17 19 35 29 52 10 18 20 36 31 56 10 20 19 37 26 50 7 13 10 21 10 23z"></path>
    </svg>
                  OCP
                </h2>
                <p style="margin:10px"></p>
                <b>Open / Closed Principle</b>
                <p class="description">Software entities should be open for extension, but closed for modification</p>
              </li>
              <li>
                <h2>
                  <svg class="fa-cog" viewBox="0 0 512 512">
      <path d="m329 256c0-20-7-37-21-52-15-14-32-21-52-21-20 0-37 7-52 21-14 15-21 32-21 52 0 20 7 37 21 52 15 14 32 21 52 21 20 0 37-7 52-21 14-15 21-32 21-52z m146-31l0 63c0 3 0 5-2 7-1 2-3 3-6 4l-52 8c-4 10-8 19-12 26 7 9 17 22 31 39 2 2 3 5 3 7 0 3-1 5-3 7-5 7-14 17-28 31-14 13-23 20-27 20-2 0-5-1-7-3l-40-31c-8 5-17 8-26 11-3 26-6 44-8 53-1 6-5 8-10 8l-64 0c-2 0-5 0-7-2-2-2-3-4-3-6l-8-53c-9-3-18-6-26-10l-40 30c-2 2-4 3-7 3-3 0-5-1-7-3-24-22-40-38-47-48-2-2-2-4-2-7 0-2 0-4 2-6 3-4 8-11 14-19 7-9 12-16 16-21-5-9-9-19-12-28l-52-8c-3 0-5-1-6-3-2-2-2-4-2-7l0-63c0-3 0-5 2-7 1-2 3-3 5-4l53-8c3-8 7-17 12-26-8-11-18-24-31-39-2-3-3-5-3-7 0-2 1-4 3-7 5-7 14-17 28-30 14-14 23-21 27-21 2 0 5 1 7 3l40 31c8-5 17-8 26-11 3-26 6-44 8-53 1-6 5-8 10-8l64 0c2 0 5 0 7 2 2 2 3 4 3 6l8 53c9 3 18 6 26 10l40-30c2-2 4-3 7-3 3 0 5 1 7 3 25 23 41 39 47 49 2 1 2 3 2 6 0 2 0 4-2 6-3 4-8 11-14 19-7 9-12 16-16 21 5 9 9 18 12 28l52 8c3 0 5 1 6 3 2 2 2 4 2 7z"></path>
    </svg>
                  ISP
                </h2>
                <p style="margin:10px"></p>
                <b>Interface Segregation Principle</b>
                <p class="description">Clients should not be forced to depend upon interfaces that they do not use.</p>
              </li>
            </ul>
            <hr>
            <ul class="flexblock blink">
              <li>
                <a href="#">
                  <h2>
                    <svg class="fa-bar-chart" viewBox="0 0 512 512">
      <path d="m146 256l0 146-73 0 0-146z m110-146l0 292-73 0 0-292z m293 329l0 36-586 0 0-438 37 0 0 402z m-183-256l0 219-73 0 0-219z m109-110l0 329-73 0 0-329z"></path>
    </svg>
                    LSP
                  </h2>
                  <p style="margin:10px"></p>
                  <b>Liskov Substitution Principle</b>
                  <p class="description">Sub class can not alter parent properties to make program work correctly.</p>
                </a>
              </li>
              <li>
                <a href="">
                  <h2>
                    <svg class="fa-balance-scale" viewBox="0 0 512 512">
      <path d="m421 128l-110 201 219 0z m-366 0l-110 201 220 0z m234-55c-2 8-7 15-13 21-6 6-12 10-20 13l0 368 174 0c2 0 5 1 6 3 2 2 3 4 3 7l0 18c0 3-1 5-3 6-1 2-4 3-6 3l-384 0c-3 0-5-1-7-3-2-1-2-3-2-6l0-18c0-3 0-5 2-7 2-2 4-3 7-3l173 0 0-368c-7-3-14-7-20-13-6-6-10-13-13-21l-140 0c-3 0-5-1-7-2-2-2-2-4-2-7l0-18c0-3 0-5 2-7 2-2 4-2 7-2l140 0c4-11 11-20 20-27 9-7 20-10 32-10 12 0 22 3 31 10 10 7 16 16 20 27l141 0c2 0 5 0 6 2 2 2 3 4 3 7l0 18c0 3-1 5-3 7-1 1-4 2-6 2z m-51 5c6 0 11-3 16-7 4-4 7-10 7-16 0-6-3-12-7-16-5-5-10-7-16-7-7 0-12 2-16 7-5 4-7 10-7 16 0 6 2 12 7 16 4 4 9 7 16 7z m311 251c0 14-5 27-14 38-9 11-20 19-33 26-14 6-28 11-42 14-14 3-27 4-39 4-13 0-26-1-40-4-14-3-28-8-42-14-13-7-24-15-33-26-9-11-13-24-13-38 0-2 3-10 10-23 6-13 15-30 26-50 11-20 21-38 30-56 10-17 20-35 30-52 9-18 15-28 16-29 3-6 8-9 16-9 7 0 12 3 16 9 0 1 6 11 16 29 9 17 19 35 29 52 9 18 19 36 30 56 11 20 20 37 27 50 6 13 10 21 10 23z m-366 0c0 14-5 27-13 38-9 11-20 19-34 26-14 6-27 11-41 14-14 3-28 4-40 4-13 0-26-1-40-4-14-3-28-8-41-14-14-7-25-15-34-26-9-11-13-24-13-38 0-2 3-10 10-23 7-13 15-30 26-50 11-20 21-38 31-56 9-17 19-35 29-52 10-18 15-28 16-29 3-6 9-9 16-9 7 0 12 3 16 9 1 1 6 11 16 29 10 17 19 35 29 52 10 18 20 36 31 56 10 20 19 37 26 50 7 13 10 21 10 23z"></path>
    </svg>
                    DRY
                  </h2>
                  <p style="margin:10px"></p>
                  <b>Don't Repeat Yourself</b>
                  <p class="description">Do the absolute best to avoid duplicate code.</p>
                </a>
              </li>
              <li>
                <a href="#">
                  <h2>
                    <svg class="fa-cog" viewBox="0 0 512 512">
      <path d="m329 256c0-20-7-37-21-52-15-14-32-21-52-21-20 0-37 7-52 21-14 15-21 32-21 52 0 20 7 37 21 52 15 14 32 21 52 21 20 0 37-7 52-21 14-15 21-32 21-52z m146-31l0 63c0 3 0 5-2 7-1 2-3 3-6 4l-52 8c-4 10-8 19-12 26 7 9 17 22 31 39 2 2 3 5 3 7 0 3-1 5-3 7-5 7-14 17-28 31-14 13-23 20-27 20-2 0-5-1-7-3l-40-31c-8 5-17 8-26 11-3 26-6 44-8 53-1 6-5 8-10 8l-64 0c-2 0-5 0-7-2-2-2-3-4-3-6l-8-53c-9-3-18-6-26-10l-40 30c-2 2-4 3-7 3-3 0-5-1-7-3-24-22-40-38-47-48-2-2-2-4-2-7 0-2 0-4 2-6 3-4 8-11 14-19 7-9 12-16 16-21-5-9-9-19-12-28l-52-8c-3 0-5-1-6-3-2-2-2-4-2-7l0-63c0-3 0-5 2-7 1-2 3-3 5-4l53-8c3-8 7-17 12-26-8-11-18-24-31-39-2-3-3-5-3-7 0-2 1-4 3-7 5-7 14-17 28-30 14-14 23-21 27-21 2 0 5 1 7 3l40 31c8-5 17-8 26-11 3-26 6-44 8-53 1-6 5-8 10-8l64 0c2 0 5 0 7 2 2 2 3 4 3 6l8 53c9 3 18 6 26 10l40-30c2-2 4-3 7-3 3 0 5 1 7 3 25 23 41 39 47 49 2 1 2 3 2 6 0 2 0 4-2 6-3 4-8 11-14 19-7 9-12 16-16 21 5 9 9 18 12 28l52 8c3 0 5 1 6 3 2 2 2 4 2 7z"></path>
    </svg>
                    COI
                  </h2>
                  <p style="margin:10px"></p>
                  <b>Composition Over Inheritance</b>
                  <p class="description">Prefer composition over inheritance where we can.</p>
                </a>
              </li>
            </ul>
          </div>
          <!-- .end .wrap -->
        </section>
        <section class="frame bg-primary aligncenter">
          <div class="wrap">
            <h2 class="text-landing">Python Inheritance</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap center-align">
            <center><h2><b>1. Do <span style="color:red">Not</span> Inherit From Build-In Data Type.</b></h2></center>
            <br><br>
            <center>
            <div class="size-70">
              <pre><code># Bad Implementation
class DoppelDict(dict):
              
    def __setitem__(self, key, value): 
        super().__setitem__(key, [value] * 2)</code></pre>
          <br>
           <pre><code>>>> dd = DoppelDict(one=1)
>>> dd
{'one': 1}
>>> dd['two'] = 2
>>> dd
{'one': 1, 'two': [2, 2]}
>>> dd.update(three=3)
>>> dd
{'three': 3, 'one': 1, 'two': [2, 2]}</code></pre>
            </div>
            </center>
            </div>
        </section>
        <section>
          <div class="wrap">
            <center><h2><b>2. <span style="color:red">Mixin</span> for Multi-Inheritances</b></h2></center><br>
          </div>
        </section>
        <section>
           <div class="wrap">
             <h4><b>Example I - A General Repr Mixin</b></h4><br>
             <pre><code>import reprlib
            
class ReprLibMixin(object):
   
    def __repr__(self):
        return "<{} {attr}>".format(
            self.__class__.__name__,
            attr=" ".join("{}={}".format(k, reprlib.repr(v)) for k, v in sorted(self.__dict__.items())),
        )
    
class Word(ReprLibMixin):
   
    def __init__(self, text, sentence_index, article_index, pos_tag):
        self.text = text
        self.sentence_index = sentence_index
        self.article_index = article_index
        self.pos_tag = pos_tag</code></pre>
           </div>
        </section>
        <section>
           <div class="wrap">
             <h4><b>Example II - Comparable Mixin</b></h4><br>
             <pre><code>class Comparable(object):
    def __ne__(self, other):
        return not (self == other)

    def __lt__(self, other):
        return self <= other and (self != other)

    def __gt__(self, other):
        return not self <= other

    def __ge__(self, other):
        return self == other or self > other

class Integer(Comparable):
    def __init__(self, i):
        self.i = i

class Char(Comparable):
    def __init__(self, c):
        self.c = c</code></pre>
           </div>
        </section>
        <section>
          <div class="wrap">
            <center><h2><b>3. Enrich Constructor With <br><span style="color:red">Static Factory Method</span></b></h2></center><br>
          </div>
        </section>
        <section>
          <div class="wrap">
            <pre><code>class Sentence:
    def __init__(words, article_indices, sentence_indices, ...):
        pass
    
    @staticmethod
    def fromText(sentence_str):
        pass
    
    @staticmethod
    def fromLtpJson(ltp_json):
        pass</code></pre>
          </div>
        </section>
        <section class="frame bg-primary aligncenter">
          <div class="wrap">
            <h2 class="text-landing">Performance Tuning</h2>
          </div>
          <!-- .end .wrap -->
        </section>
        <section>
          <div class="wrap">
            <h2>Step 1: Make A Better Algorithmn</h2><br>
            <ul>
              <li>1. Binary Search</li>
              <li>2. Quick Sort</li>
              <li>3. Data Structure: BST, Trie, Interval Tree, Stack etc.</li>
              <li>4. Dynamic Programming (Tabulation, Memoizatation)</li>
              <li>5. Save Previous Results in Dict</li>
              <li>...</li>
            </ul>
          </div>
        </section>
        <section>
          <div class="wrap">
            <h2>Step 2: Cache</h2><br>
            <pre><code>from functools import lru_cache
    
@lru_cache(maxsize=None)
def fib(n):
    if n <= 0:
        print("Incorrect input")
    elif n == 1:
        return 0
    elif n == 2:
        return 1
    else:
        return fib(n-1) + fib(n-2)</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
            <h2>Step 3: Python Coroutine</h2><br>
            <pre><code>import aiohttp
import asyncio

URL = 'https://www.youtube.com/'

async def job(sess):
    resp = await sess.get(URL)
    return str(resp.url)

async def main(loop):
    async with aiohttp.ClientSession() as sess:
        tasks = [loop.create_task(job(sess)) for _ in range(2)]
        finished, unfinished = await asyncio.wait(tasks)
        for r in finished:
            print(r.result())
            
loop = asyncio.get_event_loop()
loop.run_until_complete(main(loop))
loop.close()</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
            <h2>Step 4: Python Multi Threading</h2><br>
            <pre><code>from multiprocessing import Pool

def f(x):
    return x*x

if __name__ == '__main__':
    p = Pool(5)
    print(p.map(f, [1, 2, 3]))</code></pre>
          </div>
        </section>
        <section>
          <div class="wrap">
            <h2>Step 5: Others...</h2><br>
            <ul>
              <li>1. Cython</li>
              <li>2. numba</li>
              <li>3. PyPI</li>
              <li>4. f2py</li>
              <li>...</li>
            </ul>
          </div>
        </section>
        <section>
          <div class="wrap">
            <h2>Profiling</h2>
            <pre><code>import cProfile
import re
cProfile.run('re.compile("foo|bar")')</code></pre><br>
             <pre><code>      197 function calls (192 primitive calls) in 0.002 seconds

Ordered by: standard name

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1    0.000    0.000    0.001    0.001 <string>:1(<module>)
     1    0.000    0.000    0.001    0.001 re.py:212(compile)
     1    0.000    0.000    0.001    0.001 re.py:268(_compile)
     1    0.000    0.000    0.000    0.000 sre_compile.py:172(_compile_charset)
     1    0.000    0.000    0.000    0.000 sre_compile.py:201(_optimize_charset)
     4    0.000    0.000    0.000    0.000 sre_compile.py:25(_identityfunction)
   3/1    0.000    0.000    0.000    0.000 sre_compile.py:33(_compile)</code></pre>
          </div>
        </section>
      </article>
      <!-- end article -->
    </main>
    <!-- end main -->
    <!-- A global footer
      <footer role="contentinfo">
       <div class="wrap">
         <p>An <a href="https://github.com/webslides/webslides">open source solution</a>, by <a href="https://twitter.com/webslides">@webslides</a>.</p>
       </div>
      </footer>  -->
    <!-- Required -->
    <script src="static/js/webslides.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <link rel="stylesheet" href="static/css/dracula.css">
    <style>
        pre {
            padding: 0;
        }        
    </style>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
        window.ws = new WebSlides();
        hljs.initHighlightingOnLoad();
    </script>
    <!-- OPTIONAL - svg-icons.js (fontastic.me - Font Awesome as svg icons) -->
    <script defer src="static/js/svg-icons.js"></script>
  </body>
</html>